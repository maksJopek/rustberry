#!/bin/sh
# Creating array of branches
branch_array=($(git branch | sed 's/\*//g' | tr "\n" "\n"))
number=0
len=(${#branch_array[@]})

if [ $len -ge 25 ]; then
	# Dmenu options, if list is too big
	git branch | dmenu | xargs git checkout
else
	for i in "${branch_array[@]}"
	do
		echo "[$number] $i"
		((number=number+1))
	done

	# Branch selection
	echo "Select branch"
	read selection

	branch=( ${branch_array[$selection]} )

	echo "You will switch branch to $branch"
	echo "Press anything to continue"
	read

	git checkout $branch
fi
